风险,潜在责任人,潜在应对,概率,影响,分值,责任人,定量,策略,应对计划
v-html 或未净化 HTML 导致 XSS,前端/安全工程师,在前端/后端引入 DOMPurify 或严格白名单清洗,高,高,25,前端负责人,影响所有展示 HTML 的页面与用户,输入净化 + 输出转义 + WAF 规则,在 useArticle 渲染路径接入 DOMPurify；后端入库前再清洗；增加回归测试
Token 存储在 localStorage / 非 httpOnly cookie,后端/前端,改为 httpOnly Secure cookie + refresh token 流程,高,高,25,后端负责人,增加会话被劫持风险（高）,用 httpOnly cookie、短期 access + refresh,后端下发 httpOnly cookie；移除前端直接读取 token 代码；更新中间件
JWT 仅本地解码未校验签名或过期,后端/前端,后端校验签名并提供 refresh；前端队列化刷新,中,高,20,后端负责人,导致未授权访问或频繁 401,后端校验 + 前端刷新队列,在 useAxios 增加 refresh 流程与同步重试队列
SMTP 凭证泄露 (.env 在仓库),运维/后端,移除仓库凭证，使用部署 secrets 或 Vault,中,高,22,运维负责人,可能导致滥发、信誉受损,秘钥轮换 + secrets 管理,从 repo 移除 .env，生成新凭证并在部署平台注入
SQL 注入与未验证的 API 输入,后端,DTO 层使用 validator 并使用 ORM 参数化查询,中,高,22,后端负责人,影响数据完整性/泄露,后端输入验证 + ORM 安全实践,增强 controller/DTO 验证；编写渗透测试用例
文件上传未校验或存储不当,后端/前端,校验 mime/type/大小，使用隔离存储/CDN,中,中,16,后端负责人,可能导致恶意文件或存储滥用,文件校验 + 扫毒 + 限额,在上传接口加入限制并使用对象存储及访问控制
未按环境分离配置（config 泄露风险）,运维,使用环境变量/CI secrets 管理 config,中,中,14,运维负责人,生产配置泄露风险,配置模板 + secret 管理,将生产配置从代码移除，文档化部署变量
中间件误判导致匿名用户被强制重定向,前端,中间件仅在未登录时拦截，并支持 meta 白名单,中,中,14,前端负责人,用户访问受阻（影响 UX）,使用 useCookie/useUserStore 与 definePageMeta,修改 userLogin.global.ts 并写单元测试
路由布局错误（父子路由同时激活）,前端,重构为 index.vue 或在父中显式 NuxtPage,中,中,12,前端负责人,导致重复挂载/生命周期冲突,文件路由调整,将 pages/knowledge 改为 index.vue 或插入 <NuxtPage/>
Transition 报告非元素根导致动画失败,前端,保证每个 page 使用单根元素或移除 Transition,中,中,12,前端负责人,控制台警告，动画异常,扫描 pages 并修复模板根,自动化脚本检测并 wrap 根元素
GlobalGlass/backdrop-filter 在移动端性能差,前端,在移动端降级或禁用模糊，遵循 prefers-reduced-motion,高,中,18,前端负责人,大量移动用户流畅度下降,media query 与 capability check,在组件中增加媒体查询与 JS 判断，默认在低性能设备禁用模糊
引入 heavy 库（three/vanta）导致包体膨胀,前端/架构,动态 import 或仅在特定 layout 加载,中,中,12,架构负责人,首屏加载变慢,按需加载 + CDN,改为动态 import，低端设备禁用 WebGL 效果
未注册 PrimeVue/ElementPlus 组件导致错误,前端,在 plugins 中统一注册或局部 import,中,中,10,前端负责人,页面报错、组件不可用,插件注册并在 Nuxt 加载,新增 plugins/primevue.ts 并在 nuxt.config 注册
useAxios 缺乏重试/超时策略,前端,增加超时、重试与统一错误处理,中,中,14,前端负责人,请求失败影响关键路径,增强拦截器,在 useAxios 中加入超时重试和统一错误上报
缺少全链路错误监控（前后端）,运营/开发,集成 Sentry 或类似工具,高,中,16,运维负责人,不能及时发现生产异常,集成监控与告警,前端 useAxios 与后端中间件集成 Sentry，并配置告警
缺少单元/集成测试与 CI,QA/开发,新增 Vitest/Jest + CI 流程覆盖关键逻辑,高,中,18,QA 负责人,回归风险高,建立测试矩阵与 CI,编写测试并在 GitHub Actions 上运行
类型/拼写不一致（types 目录）,前端,修正 types 并在 CI 强制 typecheck,高,低,8,前端负责人,增加维护成本,统一 types 并加 lint,批量修正并在 CI 上加 ts-check
数据库连接未做超时/重试/健康检查,后端/运维,配置连接池、超时、重试与健康探针,中,高,20,后端负责人,服务不稳定导致故障,健康检查 + 连接配置,修改 dao/gorm.go，添加健康检查接口与监控告警
数据备份与恢复策略缺失,运维,建立定期备份与恢复演练,低,高,20,运维负责人,数据丢失风险,定期备份 + 恢复演练,建立备份计划并执行恢复演练
API 速率限制缺失导致滥用,后端,在关键接口加入限流/防刷,中,中,15,后端负责人,被滥用导致资源耗尽,限流、验证码、黑名单,在邮箱验证码/登录接口加 Redis 限流与冷却
邮箱验证码可被滥用/频率限制缺失,后端/smtp,加入 IP/邮箱/账户限流与验证码过期机制,中,中,15,后端负责人,被滥用导致资源浪费或黑客行为,限流 + Captcha,在 mail.service 实现频率限制与超额封禁
静态资源缺乏 CDN/缓存策略,运维,使用 CDN 并配置缓存头,中,低,8,运维负责人,首屏加载慢、带宽高,引入 CDN + 缓存策略,将 public 静态资源上 CDN 并设置 Cache-Control
图片/头像存储路径可预测导致枚举下载,后端,使用不可预测路径或签名 URL,中,中,14,后端负责人,隐私泄露,签名 URL 或私有存储,改用带时效签名的下载地址或私有桶
CSRF 防护不足,后端/前端,对非幂等写操作使用 CSRF token 或 SameSite cookie,中,高,20,后端负责人,账户被滥用,CSRF token / SameSite,在后端启用 CSRF 防护并在前端发送 token
CORS 配置过宽,后端,限制允许 origin 列表与方法,中,中,14,后端负责人,被恶意站点滥用,精确允许域名,更新 CORS 中间件并记录异常来源
第三方依赖的许可证/安全风险,架构/法律,审查依赖许可证并进行漏洞扫描,低,中,10,架构负责人,法律或安全风险,依赖审计 + 自动扫描,定期依赖扫描并替换不合规包
部署流水线缺少回滚机制,运维,建立蓝绿或回滚策略,低,高,18,运维负责人,部署失败导致长时间故障,自动回滚策略,在 CI/CD 中实现回滚并演练
日志不集中/缺少审计,运营/开发,集中日志平台（ELK/CloudWatch）并保留审计日志,中,中,14,运维负责人,难排查或合规问题,集中化日志与审计,上线集中日志并配置保留策略
未对敏感 API 限制访问（如用户管理）,后端,角色/权限校验与审计,中,高,20,后端负责人,数据越权风险,RBAC/ACL 实施,在 controller 层加入权限校验并写测试
内存泄漏或长期运行服务崩溃,后端/前端,增加监控、heap dump 分析并修复泄漏,中,中,16,开发负责人,服务不稳定、重启频繁,性能监控与资源上限,集成 APM，定期压力测试与修复
缺乏可达性/无障碍支持（a11y）,前端/设计,按 WCAG 做无障碍整改,中,低,6,前端负责人,可访问性用户受影响,a11y 测试与修复,在关键页面修复对比度、语义标签与键盘导航
国际化/本地化支持不足,产品/前端,抽出文本并使用 i18n 方案,低,低,5,产品负责人,扩展市场受限制,引入 i18n 并逐步翻译,评估目标市场并实现 i18n 支持
